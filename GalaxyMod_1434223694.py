from .. import loader, utils
from asyncio import sleep
import random

class GalaxyMod(loader.Module):
    strings = {"name": "GalaxyMod"}

    async def client_ready(self, client, db) -> None:
        self.db = db
        self.client = client
    async def galaxycmd(self, message):
        """[by n3rz4, @n3rz4_bloody_phoenix]üçí  –ü—Ä–∏–º–µ—Ä –≤–≤–æ–¥–∞: .galaxy <–∑–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Öüçì> <—à–∞–ø–∫–∞> ü¶ä"""
        args = utils.get_args(message)
        if not args:
            self.db.set(self.strings["name"], "state", False)
            await utils.answer(message, "<b>–º–æ–¥—É–ª—å galaxy –∑–∞–≤–µ—Ä—à–∏–ª —Å–≤–æ–µ –∏—Å—Ç—Ä–µ–±–ª–µ–Ω–∏–µ!!</b>")
            return
        await utils.answer(
            message,
            "<b>–º–æ–¥—É–ª—å –Ω–∞—á–∞–ª —Å–≤–æ–µ –∏—Å—Ç—Ä–µ–±–ª–µ–Ω–∏–µ\n\n"
            "–ß—Ç–æ–±—ã –µ–≥–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π <code>.galaxy</code></b>",
        )
        try:
            time = float(args[0])
        except ValueError:
            return
        text = " ".join(utils.get_args_raw(message).split()[1:])
        shabl = [   
        "—Å—ã–Ω —à–ª—é—Ö–µ —Å–∞—Å–µ —Ö—É–π",
        "–µ–ø–∞–ª —Ç–µ–±—è —É –º–∞–≥–∞–∑–∏–Ω–∞",
        "—è —Ç–≤–æ—é –º–∞—Ç—å –µ–±–∞–ª —É —Ü–µ–Ω—Ç—Ä–∞",
        "—Ç–≤–∞—è –º–∞—Ç—å —Å–∞—Å–∞–ª–∞ –º–Ω–µ –ø—Ä—è–º–∞ –Ω–∞ –ø—É–±–ª–∏–∫–µ",
        "–ø–µ—Ä–µ—Ä–µ–∑–∞–ª —Ç–≤–∞–µ–π –º–∞—Ç–µ—Ä–∏ –µ–π –≥–∞—Ä–ª–∞–≤–∏–Ω—É",
        "—è —Ç–≤–æ–µ–π –º–∞—Ç–µ—Ä–∏ –≤–∞–≥–∏–Ω—É –≤—Å–ø–æ—Ä—é",
        "–µ–±–∞–ª —Ç—è –∫—Ä–∞—Å–∏–≤–∞",
        "—Å–æ—Å–∏ —Ç—ã –º–Ω–µ –∫—Ä–∞—Å–∏–≤–æ",
        "—è –º–∞—Ç–µ—Ä–∏ —Ç–≤–æ–µ–π –∞–Ω–∞–ª—å–Ω–∏–∫ –µ–µ —Ä–∞—Å—Ö—É—è—Ä–∏–ª",
        "—è —Ç–µ–±–µ —â–∞—Å –Ω–∞—Ö—É–π –Ω–æ–≥–∏ —Å–ª–æ–º–∞—é",
        "—è –≥—Ä–∏–º–∏—Ä–æ–≤–∞–ª tya —Ö—É–π–æ–º",
        "—è —Ç–≤–∞—é –º–∞–º—É –µ–±–∞–ª —É –ø–æ–µ–∑–¥–∞",
        "—Å–∞—Å–∏ –ø–∞—Ä—à–∏–≤–∞",
        "–∞—Ç—Å–æ—Å–∏ –Ω–µ –∂–∞–ª—É—è—Å—å",
        "–ø–µ—Ä–µ—Å–∞—Å–∏ —Ö—É–π –Ω–∞—à",
        "–≤—ã—Å–∞—Å–µ –Ω–∞—à–∏ —Ö—É–∏",
        "—è —Ç–≤–æ—é –º–∞–º—É –µ–±–∞–ª –≤ —Ä–æ—Ç",
        "—è –µ–ø–∞–ª —Ç—è —É –∫—Ä–æ–≤–∞—Ç–∏",
        "–≤—Å–∞—Å–µ —Ö—É–π",
        "–Ω–∞—Ä–∫–æ—Ç–∏–∫–∞–º–∏ —Ç–µ–±—è –µ–ø–∞–ª",
        "–∫–∞—Ä—è–≤—ã–π —Å–∞—Å–∏ —Å–≤–∞–∏–º —Ä—ã–ª–∞–º –º–Ω–µ",
        "–µ–±–∞–ª —Ç—è —É –∫–∞–Ω–∞–ª–∏–∑–∞—Ü–∏–∏",
        "—É —Ç–≤–æ–µ–π –º–∞—Ç–µ—Ä–∏ –µ–±–∞–ª–æ –µ–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–µ–≥–æ —Ö—É—è —Ö–µ-—Ö–µ",
        "—á–æ—Ä—Ç–∞–≤–∞ —Å–∞—Å–µ –µ–∑ –µ–∑",
        "–ø—Ä–∞–≤–¥–æ–π —Ç—è –µ–±—É",
        "—Ç—É–ø–∞ —Å–∞—Å–µ—à –∫—Ö–µ-–∫—Ö–µ",
        "—Ç—É–∂—å—Å—è –ø–∏–¥–∞—Ä–∞—Å –Ω–∞ –º–∞–µ–º —Ö—É–µ",
        "—Ö—ã—Ö—ã —Ç—ã –Ω–∞—à–∏ —Ö—É–∏ —Å–∞—Å–∞–ª –Ω–µ –ø–∞ –¥–µ—Ç—Å–∫–∏",
        "–µ–ø—É —Ç—è —É –≤–∞–µ–Ω–∫–∞–º–∞—Ç–∞"]
        self.db.set(self.strings["name"], "state", True)
        while self.db.get(self.strings["name"], "state"):
            await message.respond(text + random.choice(shabl))
            await sleep(0.1)
            await sleep(time)
			
		
	